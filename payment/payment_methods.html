<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Metode Pembayaran</title>
  <link rel="stylesheet" href="payment_metod.css" />
</head>
<body>
  <div class="container">
    <div class="pmh">
      <a href="../cart_checkout/checkout.html">
        <img src="aset/arrow-small-left.png" alt="Kembali ke Checkout" />
      </a>
      <h1>METODE PEMBAYARAN</h1>
    </div> 

    <div class="metisi">
      <h2 class="section-title">PILIH METODE PEMBAYARAN</h2>

      <form action="#" method="post"> 
        <div class="payment-options">
          <label>
            <input type="radio" name="payment-method" value="cod" />
            <img src="../payment/aset/cod.png" alt="Bayar di Tempat (COD)" />
          </label>
          <label>
            <input type="radio" name="payment-method" value="bk-cash" />
            <img src="../payment/aset/bkcash.png" alt="Bk Cash" />
          </label>
        </div> 

        <h2 class="section-title">Transfer Bank</h2>
        <div class="payment-options">
          <label>
            <input type="radio" name="payment-method" value="mandiri" />
            <img src="../payment/aset/logo mandiri.png" alt="Transfer Bank Mandiri" />
          </label>
          <label>
            <input type="radio" name="payment-method" value="bri" />
            <img src="../payment/aset/logo bri.png" alt="Transfer Bank BRI" />
          </label>
          <label>
            <input type="radio" name="payment-method" value="bni" />
            <img src="../payment/aset/logo bni.png" alt="Transfer Bank BNI" />
          </label>
          <label>
            <input type="radio" name="payment-method" value="bca" />
            <img src="../payment/aset/logo bca.png" alt="Transfer Bank BCA" />
          </label>
        </div> 

        <h2 class="section-title">E-Wallet</h2>
        <div class="payment-options">
          <label>
            <input type="radio" name="payment-method" value="dana" />
            <img src="../payment/aset/logo dana.png" alt="Dana" />
          </label>
          <label>
            <input type="radio" name="payment-method" value="ovo" />
            <img src="../payment/aset/logo ovo.jpeg" alt="OVO" />
          </label>
          <label>
            <input type="radio" name="payment-method" value="gopay" />
            <img src="../payment/aset/logo gopay.png" alt="GoPay" />
          </label>
          <label>
            <input type="radio" name="payment-method" value="shopeepay" />
            <img src="../payment/aset/logo shopeepay.png" alt="ShopeePay" />
          </label>
        </div>

        <div class="button-container">
          <button type="submit">Lanjutkan</button>
        </div>
      </form>
    </div>
  </div>
 <script>
  document.addEventListener("DOMContentLoaded", () => {
    const radioButtons = document.querySelectorAll('input[name="payment-method"]');
    const form = document.querySelector("form");

    form.addEventListener("submit", (e) => {
      e.preventDefault();

      let selectedMethod = null;
      radioButtons.forEach(radio => {
        if (radio.checked) {
          selectedMethod = radio.value;
        }
      });

      if (!selectedMethod) {
        alert("Silakan pilih metode pembayaran terlebih dahulu.");
        return;
      }

      let kategori = "";

      if (["mandiri", "bri", "bni", "bca"].includes(selectedMethod)) {
        kategori = "transfer";
      } else if (["dana", "ovo", "gopay", "shopeepay"].includes(selectedMethod)) {
        kategori = "ewallet";
      } else if (selectedMethod === "cod") {
        kategori = "cod";
      } else if (selectedMethod === "bk-cash") {
        kategori = "bkcash";
      }

      localStorage.setItem("metodePembayaran", selectedMethod);
      localStorage.setItem("kategoriPembayaran", kategori);
      localStorage.setItem("dariBkMethod", "true");

      window.location.href = "../cart_checkout/checkout.html";
    });
    });
  </script>


</body>
</html>
